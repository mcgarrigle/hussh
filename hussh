#!/usr/bin/env python3

import os
import requests
import json
import click

def get(url):
    while True:
        response = requests.get(url)
        print(f"{url} {response.status_code}")
        if response.status_code == 200:
            break;
    return response.text

def block_download(index, n):
    url = f"https://services.nvd.nist.gov/rest/json/cves/2.0?resultsPerPage={n}&startIndex={index}"
    return get(url)

def block_load(path):
    with open(path, "r") as f:
        return json.loads(f.read())

def create_directory(path):
    if not os.path.isdir(path):
        os.mkdir(path)

# -----------------------------------------------------------------------
#

@click.group()
def cli():
    pass

@cli.command()
@click.argument('file')
def key(file):
    pass

@cli.command()
@click.argument('file')
def cert(file):
    pass

if __name__ == '__main__':
    cli()
